---
title: >
  APEX input popups that that appear close to the triggering button
date: 2022-06-25
lastUpdate: 2022-07-02
description: Creating popups in APEX that are positioned to a button that triggers it
slug: apex-input-popups-positioned-to-buttons
titleImage: ./apex-input-popup-hero.png
titleImageAlt: Screenshot of an APEX input popup positioned to a button
titleImageSource: { text: null, href: null }
tags: ['APEX', 'User-Interfaces']
ghCommentsIssueId: 74
---

## This feature is not new

While watching a recent APEX Office Hour episode, I noticed a button that triggered a small popup with an input field. Here is a small example from the "Sample Approvals" application:

<BlogGif filename="apex-input-popup-demo.gif" alt="" />

I first thought that this was a new feature in APEX 22.2, but it turns out that this is not the case.
I got suspicous that I could not find this in the release notes and validated that this is achievable in a APEX 19.2 environment.
So the feature has been around for a while, but I never noticed it before.

I think from a User-Experience point this feature offers two advantages.
First, you can hide a input in a popup so the the page does not get cluttered with input fields that the user might not need every time.
Second, the popup position and visuals offer a smooth transition from the button click to discovering the input field.
A normal centered popup with a darkened background is a bit jarring and might distract the user from the main task.
It feels like a "hard cut".

## How to implement this popup

We can start the same as implementing a normal inline popup:

- Create the triggering button
- Create the popup (**position**: "Dialogs, Drawers, Popups" and **template**: "Inline Popup")
- Create a dynamic action on the button click and add an "Open Region" action and select your popup region

Now we get our standard inline popup:

<BlogImg
  filename="apex-standard-inline-popup.png"
  alt="Screenshot of 
APEX popup with a single text input in it. It is centered on the page and the background page darkened."
  maxWidthPx="450"
/>

Afterwards we need to change the template options of the popup region.
Check "Auto Height", "Remove Page Overlay" and "Display Popup Callout".
Additionally change the size to "None".

<BlogImg
  filename="apex-input-popup-template-options.png"
  alt=""
  maxWidthPx="450"
/>

Now we need to add a static ID to the calling button.
Afterwards we go back to the popup region to "Custom Attributes" and add the following:

```html
data-parent-element="#ID_OF_THE_CALLING_BUTTON"
```

No we are set and get the popup is positioned to the button.

## Binding the popup dynamically

My next idea was to bind the popup to a click of a button on a cards region.
The problem is that each card has its own button so we need to bind the popup to the card button that was just clicked.

<BlogVideo
  filename="apex-dynamic-input-popup-cards.webm"
  frame="apex-dynamic-input-popup-cards-thumb.jpg"
  width="1052"
  title="Dynamic input popup on cards"
/>

<WarningBox>
  We will now enter undocumented territory. The following is not officially
  supported by Oracle and might break in future versions. So use at your own
  risk and at best only in fun projects.
</WarningBox>

### It is not as easy as it looks

Unfortunately it is not enough to change the referenced element in hte `data-parent-element` html attribute.
This attribute is checked on page load and a this point is the popup positioned.
This results in changes to teh attribute not having any effect.

### Setup the card region

You can also follow the next steps more easily in a video I created:

<YouTubeEmbed videoID="9IVx2rp9N2k" />

We start by creating a card region.
In my example I used a sample employees table.
